# æ¶ˆæ¯å¤„ç†æµç¨‹å›¾

## ğŸ“Š å®Œæ•´æµç¨‹å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         å¾®ä¿¡æœåŠ¡å™¨                                    â”‚
â”‚                      å‘é€åŠ å¯†çš„ XML æ¶ˆæ¯                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“ app/wechat/routes.py                                             â”‚
â”‚  â””â”€ wechat_handler()                                                 â”‚
â”‚     â”œâ”€ 1. éªŒè¯ç­¾å (WeChatCrypto)                                    â”‚
â”‚     â”œâ”€ 2. è§£å¯†æ¶ˆæ¯ä½“                                                  â”‚
â”‚     â””â”€ 3. è·å–æœåŠ¡å®ä¾‹                                                â”‚
â”‚        â€¢ wechat_service                                              â”‚
â”‚        â€¢ llm_service                                                 â”‚
â”‚        â€¢ todo_service                                                â”‚
â”‚        â€¢ command_service                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚ decrypted_xml
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“ app/services/wechat_service.py                                   â”‚
â”‚  â””â”€ parse_message(xml_data)                                          â”‚
â”‚     â””â”€ è§£æ XML â†’ æ¶ˆæ¯å¯¹è±¡ (msg)                                     â”‚
â”‚        â€¢ msg.type = 'text'                                           â”‚
â”‚        â€¢ msg.content = "ç”¨æˆ·è¾“å…¥çš„å†…å®¹"                               â”‚
â”‚        â€¢ msg.source = "openid"                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚ msg object
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“ app/services/wechat_service.py                                   â”‚
â”‚  â””â”€ handle_message(msg, llm_service, user_id, command_service)      â”‚
â”‚                                                                       â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚
â”‚     â”‚ æ˜¯æ–‡æœ¬æ¶ˆæ¯å—ï¼Ÿ (msg.type == 'text')    â”‚                      â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚
â”‚                 â”‚ YES                                                â”‚
â”‚                 â–¼                                                    â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚
â”‚     â”‚ æ˜¯ç³»ç»Ÿå‘½ä»¤å—ï¼Ÿ                         â”‚                      â”‚
â”‚     â”‚ command_service.is_system_command()    â”‚                      â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚
â”‚             â”‚ YES           â”‚ NO                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚               â”‚
              â–¼               â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  ç³»ç»Ÿå‘½ä»¤å¤„ç†    â”‚   â”‚  AI å¤„ç†æµç¨‹                          â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚               â”‚
              â”‚               â”‚
              â–¼               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“ app/services/command_service.py          ã€ç³»ç»Ÿå‘½ä»¤åˆ†æ”¯ã€‘          â”‚
â”‚  â””â”€ execute_command(message, user_id)                               â”‚
â”‚                                                                       â”‚
â”‚     å‘½ä»¤æ˜ å°„è¡¨:                                                        â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                            â”‚
â”‚     â”‚ 'clear'   â”‚ â†’ _clear_history()   â”‚                            â”‚
â”‚     â”‚ 'help'    â”‚ â†’ _show_help()       â”‚                            â”‚
â”‚     â”‚ 'stats'   â”‚ â†’ _show_stats()      â”‚                            â”‚
â”‚     â”‚ 'reset'   â”‚ â†’ _reset_all()       â”‚                            â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚
â”‚                                                                       â”‚
â”‚     ç›´æ¥æ“ä½œ:                                                         â”‚
â”‚     â€¢ conversation_service (å¯¹è¯å†å²)                                â”‚
â”‚     â€¢ todo_service (å¾…åŠæ•°æ®)                                        â”‚
â”‚                                                                       â”‚
â”‚     è¿”å›: "[sys] å‘½ä»¤ç»“æœ..."                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â”‚ ç³»ç»Ÿå‘½ä»¤ç»“æœ
                             â”‚
                             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                        â”‚
                                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“ app/services/conversation_service.py     ã€AI å¤„ç†åˆ†æ”¯ã€‘          â”‚
â”‚  â””â”€ å¯¹è¯å†å²ç®¡ç†                                                      â”‚
â”‚     â”œâ”€ 1. ä¿å­˜ç”¨æˆ·æ¶ˆæ¯                                               â”‚
â”‚     â”‚   add_message(user_id, 'user', content)                       â”‚
â”‚     â”‚                                                                â”‚
â”‚     â”œâ”€ 2. è·å–å†å²å¯¹è¯                                               â”‚
â”‚     â”‚   get_recent_history(user_id)                                 â”‚
â”‚     â”‚   â””â”€ è¿”å›æœ€è¿‘ 10 è½®å¯¹è¯ï¼ˆ24å°æ—¶å†…ï¼‰                            â”‚
â”‚     â”‚                                                                â”‚
â”‚     â””â”€ 3. è‡ªåŠ¨æ¸…ç†è¿‡æœŸå¯¹è¯                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚ conversation_history
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“ app/services/llm_service.py                                      â”‚
â”‚  â””â”€ chat_with_function_calling(user_id, user_message, history)      â”‚
â”‚                                                                       â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚     â”‚ 1. å‡†å¤‡æ¶ˆæ¯åˆ—è¡¨                              â”‚                â”‚
â”‚     â”‚    â€¢ System Prompt (ä» prompt_manager)       â”‚                â”‚
â”‚     â”‚    â€¢ å†å²å¯¹è¯ (conversation_history)         â”‚                â”‚
â”‚     â”‚    â€¢ å½“å‰ç”¨æˆ·æ¶ˆæ¯                             â”‚                â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚                          â”‚                                           â”‚
â”‚                          â–¼                                           â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚     â”‚ 2. è°ƒç”¨ OpenAI API                           â”‚                â”‚
â”‚     â”‚    â€¢ model: gpt-4o-mini                      â”‚                â”‚
â”‚     â”‚    â€¢ tools: Function Calling å®šä¹‰            â”‚                â”‚
â”‚     â”‚    â€¢ temperature: 0.7                        â”‚                â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚                          â”‚                                           â”‚
â”‚                          â–¼                                           â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚     â”‚ 3. å¤„ç† AI å“åº”                              â”‚                â”‚
â”‚     â”‚    â”œâ”€ æ™®é€šæ–‡æœ¬å›å¤                            â”‚                â”‚
â”‚     â”‚    â””â”€ Function Call è¯·æ±‚                     â”‚                â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â”‚ æ˜¯å¦éœ€è¦ Function Call?
                             â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚ YES                         â”‚ NO
              â–¼                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Function Calling æµç¨‹        â”‚   â”‚ ç›´æ¥è¿”å›æ–‡æœ¬å›å¤  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚                             â”‚
              â–¼                             â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“ app/utils/llm_tools.py                                           â”‚
â”‚  â””â”€ å¯è°ƒç”¨çš„å‡½æ•°                                                      â”‚
â”‚                                                                       â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚     â”‚ create_todo()                                â”‚                â”‚
â”‚     â”‚ â€¢ åˆ›å»ºå¾…åŠäº‹é¡¹                                â”‚                â”‚
â”‚     â”‚ â€¢ è°ƒç”¨ todo_service.create_todo()            â”‚                â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚                                                                       â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚     â”‚ query_todos()                                â”‚                â”‚
â”‚     â”‚ â€¢ æŸ¥è¯¢å¾…åŠåˆ—è¡¨                                â”‚                â”‚
â”‚     â”‚ â€¢ è°ƒç”¨ todo_service.get_user_todos()         â”‚                â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚                                                                       â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚     â”‚ mark_todo_complete()                         â”‚                â”‚
â”‚     â”‚ â€¢ æ ‡è®°ä»»åŠ¡å®Œæˆ                                â”‚                â”‚
â”‚     â”‚ â€¢ è°ƒç”¨ todo_service.mark_todo_as_complete()  â”‚                â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚                                                                       â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚     â”‚ delete_todo()                                â”‚                â”‚
â”‚     â”‚ â€¢ åˆ é™¤å¾…åŠäº‹é¡¹                                â”‚                â”‚
â”‚     â”‚ â€¢ è°ƒç”¨ todo_service.delete_todo()            â”‚                â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚                                                                       â”‚
â”‚     è¿”å›: å‡½æ•°æ‰§è¡Œç»“æœ (JSON)                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚ function_result
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“ app/services/todo_service.py                                     â”‚
â”‚  â””â”€ æ•°æ®åº“æ“ä½œ                                                        â”‚
â”‚     â”œâ”€ create_todo() â†’ INSERT                                        â”‚
â”‚     â”œâ”€ get_user_todos() â†’ SELECT                                     â”‚
â”‚     â”œâ”€ mark_todo_as_complete() â†’ UPDATE                              â”‚
â”‚     â””â”€ delete_todo() â†’ DELETE                                        â”‚
â”‚                                                                       â”‚
â”‚  â†• SQLAlchemy ORM                                                    â”‚
â”‚                                                                       â”‚
â”‚  ğŸ“ app/database/db.py                                               â”‚
â”‚  â””â”€ SQLite æ•°æ®åº“: instance/app.db                                   â”‚
â”‚                                                                       â”‚
â”‚  ğŸ“ app/models/                                                      â”‚
â”‚  â”œâ”€ user.py (User æ¨¡å‹)                                              â”‚
â”‚  â””â”€ todo_item.py (TodoItem æ¨¡å‹)                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚ æ•°æ®åº“æ“ä½œç»“æœ
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“ app/services/llm_service.py                                      â”‚
â”‚  â””â”€ 4. å†æ¬¡è°ƒç”¨ OpenAI API                                           â”‚
â”‚     â€¢ æºå¸¦ function æ‰§è¡Œç»“æœ                                          â”‚
â”‚     â€¢ AI ç”Ÿæˆæœ€ç»ˆçš„è‡ªç„¶è¯­è¨€å›å¤                                       â”‚
â”‚                                                                       â”‚
â”‚     è¿”å›: "å¥½çš„ï¼Œæˆ‘å¸®ä½ è®°å½•äº†å¾…åŠäº‹é¡¹..."                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚ AI å›å¤
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“ app/services/conversation_service.py                             â”‚
â”‚  â””â”€ ä¿å­˜ AI å›å¤åˆ°å†å²                                               â”‚
â”‚     add_message(user_id, 'assistant', reply_content)                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                                           â”‚
        â–¼                                           â–¼
  ç³»ç»Ÿå‘½ä»¤ç»“æœ                                   AI å›å¤
  "[sys] âœ… ..."                                "å¥½çš„ï¼Œ..."
        â”‚                                           â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚ reply_content
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“ app/services/wechat_service.py                                   â”‚
â”‚  â””â”€ create_text_reply(content, message)                             â”‚
â”‚     â””â”€ åˆ›å»º XML æ ¼å¼çš„å›å¤æ¶ˆæ¯                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚ reply_xml
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“ app/wechat/routes.py                                             â”‚
â”‚  â””â”€ wechat_handler()                                                 â”‚
â”‚     â”œâ”€ åŠ å¯†å›å¤æ¶ˆæ¯ (WeChatCrypto)                                  â”‚
â”‚     â””â”€ è¿”å›åŠ å¯†åçš„ XML                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚ encrypted_xml
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         å¾®ä¿¡æœåŠ¡å™¨                                    â”‚
â”‚                    æ¥æ”¶å¹¶æ¨é€ç»™ç”¨æˆ·                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“ æ–‡ä»¶èŒè´£è¯´æ˜

### è§†å›¾å±‚ (View Layer)

| æ–‡ä»¶ | èŒè´£ | ä¸»è¦åŠŸèƒ½ |
|------|------|----------|
| `app/wechat/routes.py` | è·¯ç”±æ§åˆ¶ | â€¢ æ¥æ”¶å¾®ä¿¡è¯·æ±‚<br>â€¢ æ¶ˆæ¯åŠ å¯†/è§£å¯†<br>â€¢ ç­¾åéªŒè¯<br>â€¢ è°ƒç”¨æœåŠ¡å±‚ |

### æœåŠ¡å±‚ (Service Layer)

| æ–‡ä»¶ | èŒè´£ | ä¸»è¦åŠŸèƒ½ |
|------|------|----------|
| `app/services/wechat_service.py` | å¾®ä¿¡æ¶ˆæ¯å¤„ç† | â€¢ è§£ææ¶ˆæ¯<br>â€¢ è·¯ç”±åˆ°å‘½ä»¤/AI<br>â€¢ åˆ›å»ºå›å¤<br>â€¢ ç®¡ç†å¯¹è¯å†å² |
| `app/services/command_service.py` | ç³»ç»Ÿå‘½ä»¤å¤„ç† | â€¢ å‘½ä»¤è¯†åˆ«<br>â€¢ å‘½ä»¤æ‰§è¡Œ<br>â€¢ è¿”å›ç³»ç»Ÿå›å¤ |
| `app/services/llm_service.py` | AI äº¤äº’ | â€¢ è°ƒç”¨ OpenAI API<br>â€¢ Function Calling<br>â€¢ ç”Ÿæˆ AI å›å¤ |
| `app/services/todo_service.py` | å¾…åŠäº‹é¡¹ç®¡ç† | â€¢ CRUD æ“ä½œ<br>â€¢ ä¸šåŠ¡é€»è¾‘<br>â€¢ ç”¨æˆ·ç®¡ç† |
| `app/services/conversation_service.py` | å¯¹è¯å†å²ç®¡ç† | â€¢ ä¿å­˜å¯¹è¯<br>â€¢ è·å–å†å²<br>â€¢ è‡ªåŠ¨æ¸…ç† |
| `app/services/planning_service.py` | ä»»åŠ¡è§„åˆ’ | â€¢ ç”Ÿæˆæ—¥æŠ¥<br>â€¢ ä»»åŠ¡æ¨é€ |

### å·¥å…·å±‚ (Utility Layer)

| æ–‡ä»¶ | èŒè´£ | ä¸»è¦åŠŸèƒ½ |
|------|------|----------|
| `app/utils/llm_tools.py` | Function Calling | â€¢ å®šä¹‰å¯è°ƒç”¨å‡½æ•°<br>â€¢ æ‰§è¡Œå®é™…æ“ä½œ |
| `app/utils/prompt_manager.py` | æç¤ºè¯ç®¡ç† | â€¢ åŠ è½½æç¤ºè¯<br>â€¢ æä¾›ç³»ç»Ÿæç¤º |
| `app/utils/scheduler.py` | å®šæ—¶ä»»åŠ¡ | â€¢ æ¯æ—¥æ¨é€ |

### æ•°æ®å±‚ (Data Layer)

| æ–‡ä»¶ | èŒè´£ | ä¸»è¦åŠŸèƒ½ |
|------|------|----------|
| `app/database/db.py` | æ•°æ®åº“è¿æ¥ | â€¢ SQLAlchemy å®ä¾‹ |
| `app/models/user.py` | ç”¨æˆ·æ¨¡å‹ | â€¢ User è¡¨å®šä¹‰ |
| `app/models/todo_item.py` | å¾…åŠæ¨¡å‹ | â€¢ TodoItem è¡¨å®šä¹‰ |

### é…ç½®å±‚

| æ–‡ä»¶ | èŒè´£ |
|------|------|
| `config.py` | å…¨å±€é…ç½® |
| `prompts/prompts.yml` | æç¤ºè¯é…ç½® |

## ğŸ”€ å†³ç­–ç‚¹è¯¦è§£

### å†³ç­–ç‚¹1ï¼šæ˜¯å¦æ˜¯ç³»ç»Ÿå‘½ä»¤ï¼Ÿ

```python
# app/services/wechat_service.py
if command_service and command_service.is_system_command(user_message):
    # â†’ ç³»ç»Ÿå‘½ä»¤åˆ†æ”¯
    return command_service.execute_command(user_message, user_id)
else:
    # â†’ AI å¤„ç†åˆ†æ”¯
    ...
```

**åˆ¤æ–­ä¾æ®**ï¼š
- `clear`, `help`, `å¸®åŠ©`, `stats`, `ç»Ÿè®¡`, `reset`, `é‡ç½®`
- å®Œå…¨åŒ¹é…ï¼ˆå¿½ç•¥å¤§å°å†™å’Œé¦–å°¾ç©ºæ ¼ï¼‰

### å†³ç­–ç‚¹2ï¼šæ˜¯å¦éœ€è¦ Function Callï¼Ÿ

```python
# app/services/llm_service.py
if response.choices[0].message.tool_calls:
    # â†’ æ‰§è¡Œ Function Calling
    for tool_call in tool_calls:
        function_result = execute_function(tool_call)
    # â†’ å†æ¬¡è°ƒç”¨ LLM ç”Ÿæˆè‡ªç„¶è¯­è¨€å›å¤
else:
    # â†’ ç›´æ¥è¿”å›æ–‡æœ¬å›å¤
    return response.choices[0].message.content
```

**åˆ¤æ–­ä¾æ®**ï¼š
- OpenAI API è¿”å›æ˜¯å¦åŒ…å« `tool_calls`
- AI åˆ¤æ–­ç”¨æˆ·æ„å›¾æ˜¯å¦éœ€è¦è°ƒç”¨å‡½æ•°

## ğŸ“Š æ•°æ®æµè½¬ç¤ºä¾‹

### ç¤ºä¾‹1ï¼šç³»ç»Ÿå‘½ä»¤ "stats"

```
ç”¨æˆ·è¾“å…¥: "stats"
    â†“
routes.py (è§£å¯†)
    â†“
wechat_service.parse_message()
    â†“
wechat_service.handle_message()
    â†“
command_service.is_system_command("stats") â†’ True
    â†“
command_service.execute_command("stats", user_id)
    â†“
command_service._show_stats(user_id)
    â”œâ”€ conversation_service.get_recent_history()
    â””â”€ todo_service.get_user_todos()
    â†“
è¿”å›: "[sys] ğŸ“Š æ•°æ®ç»Ÿè®¡\n..."
    â†“
wechat_service.create_text_reply()
    â†“
routes.py (åŠ å¯†)
    â†“
å‘é€ç»™å¾®ä¿¡æœåŠ¡å™¨
```

**è€—æ—¶**: ~50ms
**ç»è¿‡æ–‡ä»¶**: 4ä¸ª
**æ˜¯å¦è°ƒç”¨ AI**: âŒ å¦

### ç¤ºä¾‹2ï¼šæ™®é€šå¯¹è¯ "æ˜å¤©å¼€ä¼š"

```
ç”¨æˆ·è¾“å…¥: "æ˜å¤©å¼€ä¼š"
    â†“
routes.py (è§£å¯†)
    â†“
wechat_service.parse_message()
    â†“
wechat_service.handle_message()
    â†“
command_service.is_system_command("æ˜å¤©å¼€ä¼š") â†’ False
    â†“
conversation_service.add_message('user', 'æ˜å¤©å¼€ä¼š')
conversation_service.get_recent_history() â†’ [...]
    â†“
llm_service.chat_with_function_calling()
    â”œâ”€ å‡†å¤‡æ¶ˆæ¯åˆ—è¡¨
    â”œâ”€ è°ƒç”¨ OpenAI API (ç¬¬1æ¬¡)
    â”œâ”€ AI è¿”å›: tool_call(create_todo)
    â”œâ”€ æ‰§è¡Œ llm_tools.create_todo()
    â”‚   â””â”€ todo_service.create_todo() â†’ æ•°æ®åº“ INSERT
    â”œâ”€ è°ƒç”¨ OpenAI API (ç¬¬2æ¬¡ï¼Œæºå¸¦å‡½æ•°ç»“æœ)
    â””â”€ AI è¿”å›: "å¥½çš„ï¼Œæˆ‘å¸®ä½ è®°å½•äº†..."
    â†“
conversation_service.add_message('assistant', 'å¥½çš„ï¼Œ...')
    â†“
wechat_service.create_text_reply()
    â†“
routes.py (åŠ å¯†)
    â†“
å‘é€ç»™å¾®ä¿¡æœåŠ¡å™¨
```

**è€—æ—¶**: ~2-3ç§’
**ç»è¿‡æ–‡ä»¶**: 8ä¸ª
**æ˜¯å¦è°ƒç”¨ AI**: âœ… æ˜¯ (2æ¬¡)
**æ•°æ®åº“æ“ä½œ**: âœ… æ˜¯ (INSERT)

### ç¤ºä¾‹3ï¼šæŸ¥è¯¢å¾…åŠ "æŸ¥çœ‹å¾…åŠ"

```
ç”¨æˆ·è¾“å…¥: "æŸ¥çœ‹å¾…åŠ"
    â†“
[å‰é¢æµç¨‹åŒä¸Š]
    â†“
llm_service.chat_with_function_calling()
    â”œâ”€ è°ƒç”¨ OpenAI API (ç¬¬1æ¬¡)
    â”œâ”€ AI è¿”å›: tool_call(query_todos)
    â”œâ”€ æ‰§è¡Œ llm_tools.query_todos()
    â”‚   â””â”€ todo_service.get_user_todos() â†’ æ•°æ®åº“ SELECT
    â”œâ”€ è°ƒç”¨ OpenAI API (ç¬¬2æ¬¡)
    â””â”€ AI è¿”å›: "æ‚¨å½“å‰æœ‰3ä¸ªå¾…åŠäº‹é¡¹..."
    â†“
[åç»­æµç¨‹åŒä¸Š]
```

**è€—æ—¶**: ~2-3ç§’
**æ•°æ®åº“æ“ä½œ**: âœ… æ˜¯ (SELECT)

## ğŸ¯ æ€§èƒ½å¯¹æ¯”

| æ“ä½œç±»å‹ | å“åº”æ—¶é—´ | AI è°ƒç”¨ | æ•°æ®åº“æ“ä½œ |
|---------|---------|---------|------------|
| ç³»ç»Ÿå‘½ä»¤ (clear) | ~50ms | âŒ | âŒ |
| ç³»ç»Ÿå‘½ä»¤ (stats) | ~100ms | âŒ | âœ… |
| åˆ›å»ºå¾…åŠ | ~2-3s | âœ… (2æ¬¡) | âœ… (INSERT) |
| æŸ¥è¯¢å¾…åŠ | ~2-3s | âœ… (2æ¬¡) | âœ… (SELECT) |
| å®Œæˆä»»åŠ¡ | ~2-3s | âœ… (2æ¬¡) | âœ… (UPDATE) |
| æ™®é€šå¯¹è¯ | ~1-2s | âœ… (1æ¬¡) | âŒ |

## ğŸ’¡ å…³é”®ç‚¹æ€»ç»“

1. **ç³»ç»Ÿå‘½ä»¤ä¼˜å…ˆçº§æœ€é«˜**ï¼šå…ˆåˆ¤æ–­ç³»ç»Ÿå‘½ä»¤ï¼Œå†èµ° AI æµç¨‹
2. **å¯¹è¯å†å²è‡ªåŠ¨ç®¡ç†**ï¼šæ¯æ¬¡å¯¹è¯éƒ½ä¼šè®°å½•å’Œæ¸…ç†
3. **Function Calling è‡ªåŠ¨åŒ–**ï¼šAI è‡ªåŠ¨åˆ¤æ–­æ˜¯å¦éœ€è¦è°ƒç”¨å‡½æ•°
4. **åˆ†å±‚æ¶æ„æ¸…æ™°**ï¼šè§†å›¾â†’æœåŠ¡â†’æ•°æ®ï¼ŒèŒè´£æ˜ç¡®
5. **å¼‚æ­¥å‹å¥½**ï¼šå„å±‚ä¹‹é—´æ¾è€¦åˆï¼Œæ˜“äºæ‰©å±•

## ğŸ“š ç›¸å…³æ–‡æ¡£

- **SYSTEM_COMMANDS.md** - ç³»ç»Ÿå‘½ä»¤è¯¦ç»†è¯´æ˜
- **PROJECT_STRUCTURE.md** - é¡¹ç›®ç»“æ„æ–‡æ¡£
- **TEST_GUIDE.md** - æµ‹è¯•æŒ‡å—

---

**å›¾ä¾‹è¯´æ˜**ï¼š
- `ğŸ“` è¡¨ç¤ºæ–‡ä»¶
- `â†’` è¡¨ç¤ºæ•°æ®æµå‘
- `â†“` è¡¨ç¤ºæµç¨‹ç»§ç»­
- `â”œâ”€` è¡¨ç¤ºæ­¥éª¤åˆ†æ”¯
- `â””â”€` è¡¨ç¤ºæœ€åä¸€ä¸ªæ­¥éª¤

